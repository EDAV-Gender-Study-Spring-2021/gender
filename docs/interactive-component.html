<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | Analyzing Gender Discrepancies Over Time Using Social, Educational, and Employment Trends</title>
  <meta name="description" content="Chapter 6 Interactive component | Analyzing Gender Discrepancies Over Time Using Social, Educational, and Employment Trends" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | Analyzing Gender Discrepancies Over Time Using Social, Educational, and Employment Trends" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | Analyzing Gender Discrepancies Over Time Using Social, Educational, and Employment Trends" />
  
  
  

<meta name="author" content="Vincent Chang, Xiaoyan Li, Yaojia Ye" />


<meta name="date" content="2021-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<script src="libs/d3-5.16.0/d3.min.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Gender Study</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#social-rights"><i class="fa fa-check"></i><b>4.1</b> Social Rights</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#education"><i class="fa fa-check"></i><b>4.2</b> Education</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#employment"><i class="fa fa-check"></i><b>4.3</b> Employment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#social-rights-1"><i class="fa fa-check"></i><b>5.1</b> Social Rights</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#education-1"><i class="fa fa-check"></i><b>5.2</b> Education</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#employment-1"><i class="fa fa-check"></i><b>5.3</b> Employment</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyzing Gender Discrepancies Over Time Using Social, Educational, and Employment Trends</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<p>This interactive part shows the general relationship and the general trend of education, employment and social rights of women for 30 countries during last 25 years, something a static plot will struggle to do simultaneously.</p>
<p>The social rights used the values of average score of 6 aspects mentioned above (showed in color, with lightgreen representing smaller values and black representing larger values). Darker circles represent higher equality in social rights. The employment used the values of employment ratio in percentage (showed in x axis). The education used the primary school enrollment rate of women (%)(showed in y axis).</p>
<p>Each point represents one country we sampled. Users can click the light-green buttons which represents the year range of the statistics and see how the statistics for each country change and whether the different factors change in the similar direction.</p>
<p>We can see when the year increase, the general trends for the employment and education are increasing and the points become darker, meaning the gender discrimination is paid more attention to and is moderated a lot.</p>
<script src="https://d3js.org/d3.v6.js"></script>
<svg width="688" height="500">
</svg>
<script> 

  const svg = d3.select('svg');
  const width = +svg.attr('width');
  const height = +svg.attr('height');

  const render = data_1 => {
    const title = 'Social, Educational, and Employment Trends';
    const xValue_1 = d => d.emp1;
    const yValue_1 = d => d.educ1;
    const xValue_2 = d => d.emp2;
    const yValue_2 = d => d.educ2;
    const xValue_3 = d => d.emp3;
    const yValue_3 = d => d.educ3;
    const xValue_4 = d => d.emp4;
    const yValue_4 = d => d.educ4;
    const xValue_5 = d => d.emp5;
    const yValue_5 = d => d.educ5;
    const rValue_1 = d => d.Score1;
    const rValue_2 = d => d.Score2;
    const rValue_3 = d => d.Score3;
    const rValue_4 = d => d.Score4;
    const rValue_5 = d => d.Score5;
    const xAxisLabel = 'Employment';
    const yAxisLabel = 'Education';
    const circleRadius = 10;
    const margin = { top: 60, right: 40, bottom: 175, left: 150 };
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    const xScale = d3.scaleLinear()
      .domain([40, 100])
      .range([0, innerWidth])
      .nice();
    const yScale = d3.scaleLinear()
      .domain([20, 180])
      .range([innerHeight, 0])
      .nice();
    const compute = d3.interpolate('lightgreen', 'black')
    const linear = d3.scaleLinear().domain([0.46, 1]).range([0, 1])
    const myColor = d3.scaleLinear().domain([0.3, 1])
        .range(["black", "green"]);
    const g = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
    const xAxis = d3.axisBottom(xScale)
      .tickSize(-innerHeight)
      .tickPadding(15);
    const yAxis = d3.axisLeft(yScale)
      .tickSize(-innerWidth)
      .tickPadding(10);
    const yAxisG = g.append('g').call(yAxis);
    yAxisG.selectAll('.domain').remove();
    yAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', -93)
        .attr('x', -innerHeight / 2)
        .attr('fill', 'black')
        .attr('transform', `rotate(-90)`)
        .attr('text-anchor', 'middle')
        .text(yAxisLabel);
    const xAxisG = g.append('g').call(xAxis)
      .attr('transform', `translate(0,${innerHeight})`);
    xAxisG.select('.domain').remove();
    xAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', 75)
        .attr('x', innerWidth / 2)
        .attr('fill', 'black')
        .text(xAxisLabel);
    g.selectAll('circle').data(data_1)
      .enter().append('circle')
        .attr('cy', d => yScale(yValue_1(d)))
        .attr('cx', d => xScale(xValue_1(d)))
        .attr('r',  d => circleRadius)
            .attr('fill', d => compute(linear(rValue_1(d))));
    g.append('text')
        .attr('class', 'title')
        .attr('y', -10)
        .text(title);

  var object_dataset = [
    {cx: 43, cy: 450, text: `1995-1999`,no:"r1"},
    {cx: 172, cy: 450, text: `2000-2004`,no:"r2"},
    {cx: 301, cy: 450, text: `2005-2009`,no:"r3"},
    {cx: 430, cy: 450, text: `2010-2014`,no:"r4"},
    {cx: 559, cy: 450, text: `2015-2019`,no:"r5"},
    ];

  svg.selectAll('rect').data(object_dataset)
    .enter().append('rect')
      .attr('x', d => d.cx + 50)
      .attr('y', d => d.cy - 30)
      .attr('width', 86)
      .attr('height', 50)
      .attr('fill', 'lightgreen')
      .attr('id', d => d.no);

  svg.select("rect#r2").on("click",function(data_1){
    svg.selectAll("rect").attr("fill","lightgreen")
    svg.select("rect#r2").attr("fill","green")
        svg.selectAll("circle").transition()
        .duration(2000)
        .attr('cy', d => yScale(yValue_2(d)))
        .attr('cx', d => xScale(xValue_2(d)))
        .attr('r',  d => circleRadius)
        .attr('fill', "red")
        .attr('fill', d => compute(linear(rValue_2(d))))})
      ;
          
  svg.select("rect#r1").on("click",function(data_1){
    svg.selectAll("rect").attr("fill","lightgreen")
    svg.select("rect#r1").attr("fill","green")
    svg.selectAll("circle").transition()
    .duration(2000)
    .attr('cy', d => yScale(yValue_1(d)))
    .attr('cx', d => xScale(xValue_1(d)))
    .attr('r',  d => circleRadius)
    .attr('fill', "red")
    .attr('fill', d => compute(linear(rValue_1(d))))})
  ;
          
  svg.select("rect#r3").on("click",function(data_1){
    svg.selectAll("rect").attr("fill","lightgreen")
    svg.select("rect#r3").attr("fill","green")
    svg.selectAll("circle").transition()
    .duration(2000)
    .attr('cy', d => yScale(yValue_3(d)))
    .attr('cx', d => xScale(xValue_3(d)))
    .attr('r',  d => circleRadius)
    .attr('fill', "red")
    .attr('fill', d => compute(linear(rValue_3(d))))})
  ;

  svg.select("rect#r4").on("click",function(data_1){
    svg.selectAll("rect").attr("fill","lightgreen")
    svg.select("rect#r4").attr("fill","green")
    svg.selectAll("circle").transition()
    .duration(2000)
    .attr('cy', d => yScale(yValue_4(d)))
    .attr('cx', d => xScale(xValue_4(d)))
    .attr('r',  d => circleRadius)
    .attr('fill', "red")
    .attr('fill', d => compute(linear(rValue_4(d))))})
  ;
  
  svg.select("rect#r5").on("click",function(data_1){
    svg.selectAll("rect").attr("fill","lightgreen")
    svg.select("rect#r5").attr("fill","green")
    svg.selectAll("circle").transition()
    .duration(2000)
    .attr('cy', d => yScale(yValue_5(d)))
    .attr('cx', d => xScale(xValue_5(d)))
    .attr('r',  d => circleRadius)
    .attr('fill', "red")
    .attr('fill', d => compute(linear(rValue_5(d))))})
  };

  d3.csv('https://raw.githubusercontent.com/yaojiaye00/final5702/main/data_all.csv')
    .then(data_1 => {
      data_1.forEach(d => {
        d.Score1 = +d.Score1;
        d.educ1 = +d.educ1; //Currently need to manually update based on input 
        d.emp1 = +d.emp1; //Same as above
        d.Score2 = +d.Score2;
        d.educ2 = +d.educ2; 
        d.emp2 = +d.emp2; 
        d.Score3 = +d.Score3;
        d.educ3 = +d.educ3; 
        d.emp3 = +d.emp3; 
        d.Score4 = +d.Score4;
        d.educ4 = +d.educ4; 
        d.emp4 = +d.emp4; 
        d.Score5 = +d.Score5;
        d.educ5 = +d.educ5; 
        d.emp5 = +d.emp5; 
      });
      render(data_1)
    });

  var object_dataset = [
    {cx: 43, cy: 450, text: `1995-1999`,no:"r1"},
    {cx: 172, cy: 450, text: `2000-2004`,no:"r2"},
    {cx: 301, cy: 450, text: `2005-2009`,no:"r3"},
    {cx: 430, cy: 450, text: `2010-2014`,no:"r4"},
    {cx: 559, cy: 450, text: `2015-2019`,no:"r5"},
    ];

  svg.selectAll('text').data(object_dataset)
    .enter().append('text')
      .attr('x', d => d.cx + 90)
      .attr('y', d => d.cy + 50)
      .text(d => d.text)
      .attr('fill', 'black')
      .attr('text-anchor', 'middle');

</script>
<p>The interactive plot above was built off a format provided by “Cars Scatter Plot” example from Vizhub (<a href="https://vizhub.com/curran/9247d4d42df74185980f7b1f7504dcc5" class="uri">https://vizhub.com/curran/9247d4d42df74185980f7b1f7504dcc5</a>).</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EDAV-Gender-Study-Spring-2021/gender/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/EDAV-Gender-Study-Spring-2021/gender/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
